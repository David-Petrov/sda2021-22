# Task 3. Контролни (Hard)

[HackerRank link](<https://www.hackerrank.com/contests/sda-hw-8-2021/challenges/challenge-2727>)

## Statement:

След поредното онлайн контролно при Ч², Ч² е обещал да провери контролните на всички веднага. Дори е решил, че ако някой предаде по-рано, то Ч² веднага ще започне да проверява, за да не губи време. Ч² обаче иска да проверява така, че средното време за чакане за проверка на всички да е минимално, за да не се сърди никой, че е останал последен. Ч² проверява 1 ред код за 1 секунда.

Намерете минималното средно време, което трябва да чака един студент, за да му бъде проверено контролното.

**Забележка:** Ч² не може да вижда бъдещето, така че ако не проверява на никого и някой студент предаде контролно, Ч² започва веднага да проверява. Това предполага, че може в следващия момент да бъде предадено по-удачно за проверяване контролно, но Ч² няма как да знае за него.

**Input Format**

На първият ред ще получите едно число $N$ - броя на студентите.

На следващите $N$ реда ще получите по 2 числа $submitTime_i$ и $linesCode_i$ за всеки студент, където:

- $submitTime_i$ е времето когато $i$-тия студент предава контролното, а
-  $linesCode_i$ е колко реда код е предал

**Забележка**: Студентите на входа не са подредени.

**Constraints**

$1 \le N \le 250000$

$0 \le submitTime_i \le 10^9$

$0\le linesCode_i \le 10^9$

**Output Format**

На единствен ред изведете единствено число: Минималното средно време, което всеки студент трябва да чака, за да му бъде проверено контролното. Отговора закръглете надолу до цяло число.

---

**Sample Input 0**

```
3
10 5
14 10
15 5
```

**Sample Output 0**

```
8
```

**Explanation 0**

Имаме трима студенти, които предават следните контролни:

-   Студент 1: 5 реда код на 10-та секунда
    
-   Студент 2: 10 реда код на 14-та секунда
    
-   Студент 3: 5 реда код на 15-та секунда
    

Ако Ч² проверява поред, то първият студент ще чака `5` секунди, вторият ще чака `1 + 10 = 11` секунди и третият ще чака `10 + 5 = 15` секунди. Средното време за чакане е `(5 + 11 + 15)/3 = 10` (закръглено надолу).

Но има по-добро средно време: 

Ако след първия студент Ч² провери третия, то времената за чакане ще са: `5` за първия, `5` за третия, `6 + 10 = 16` за втория. Тогава средното време за чакане ще е `(5 + 5 + 16)/3 = 8` (закръглено надолу).

След като Ч² е проверил на първия предал, има двама чакащи - втория и третия. При наивното изчисление Ч² проверява първо на втория, после на третия. При второто изчисление Ч² проверява първо на третия, защото така ще минимизира средното време за чакане.

---

**Sample Input 1**

```
3
0 5
10 20
11 4
```

**Sample Output 1**

```
16
```

**Explanation 1**

Първият студент предава веднага 5 реда код. Тъй като Ч² няма работа в момента - почва да проверява и след 5 секунди е приключил (Студент 1 чака 5 секунди). След това до 10-та секунда Ч² отново няма какво да проверява и чака (това чакане не ни засяга).

На 10та секунда предава студент с 20 реда код и тъй като Ч² няма други контролни, веднага почва да го проверява.

На 11-та секунда предава студент с 4 реда код, но Ч² вече проверява друго контролно и не може да прекъсне проверката. Това води до неоптимален отговор, но това е неизбежно, защото Ч² не вижда бъдещето.

Окончателно: студент 1 чака `5` секунди, студент 2 чака `20` секунди, студент 3 чака `19 + 4 = 23` секунди. Следователно средното време за чакане е `(5 + 20 + 23)/3 = 16` секунди.

---

**Sample Input 2**

```
3
0 10
0 15
11 1
```

**Sample Output 2**

```
16
```

**Explanation 2**

**UPDATE!** Условието не е напълно коректно! При няколко налични контролни за проверка трябва да изберем "най-бързaта" за проверяване.